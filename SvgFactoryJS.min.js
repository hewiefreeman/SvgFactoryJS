function SvgFactory(a){this.err="SvgFactoryJS.js";if(a!=null){if((a=="px")||(a=="%")||(a=="em")||(a=="ex")||(a=="cm")||(a=="mm")||(a=="in")||(a=="pt")||(a=="pc")){this.unitType=a}else{var b=['Unsupported unit type: "'+a+'"',[this.err]];throw new Error([b]);return}}else{this.unitType="px"}this.unitTypesArray=["","","%","em","ex","px","cm","mm","in","pt","pc"];this.loadedSvgs=[]}function SvgFactoryImage(d,c,e,f,a,b){this.element=d;this.color=c;this.url=e;this.id=d.id;this.width=f;this.height=a;this.factory=b;b.loadedSvgs.push(this)}SvgFactory.prototype.load=function(h,b,d,a,g,e,c,i,f){if(window.XMLHttpRequest){if(h==null){var j=["Destination is null.",[this.err]];throw new Error([j]);return}else{if((b==null)||(b=="")){var j=["URL is null or empty.",[this.err]];throw new Error([j]);return}}this.loadXHR(h,b,d,a,g,e,c,i,f)}else{var j=["Browser does not support the SVG Factory.",[this.err]];throw new Error([j]);return}};SvgFactory.prototype.loadXHR=function(i,b,d,a,g,e,c,j,f){if((g==null)||(g)){i.style.visibility="hidden"}var h=new XMLHttpRequest();var k=this;h.onreadystatechange=function(){if(this.readyState==4&&this.status==200){i.innerHTML+=h.responseText;var m=i.getElementsByTagName("svg")[0];if((e!=null)&&(e!="")){m.setAttribute("id",e)}var o=m.getElementsByTagName("path");if(f!=null){for(var l=0;l<o.length;l++){if(f.constructor===Array){o[l].style.fill=f[l]}else{o[l].style.fill=f}}}else{if(o.length==1){f=o[0].style.fill}else{if(o.length>1){f=[];for(var l=0;l<o.length;l++){f.push(o[l].style.fill)}}}}if(c!=null){if(c>=0){m.setAttribute("width",c+k.unitType);c=c+k.unitType}else{m.setAttribute("width",(c*(-1))+"%");c=(c*(-1))+"%"}}else{c=m.width.baseVal.value+k.unitTypesArray[m.width.baseVal.unitType]}if(j!=null){if(j>=0){m.setAttribute("height",j+k.unitType);j=j+k.unitType}else{m.setAttribute("height",(j*(-1))+"%");j=(j*(-1))+"%"}}else{j=m.height.baseVal.value+k.unitTypesArray[m.height.baseVal.unitType]}if((g==null)||(g)){i.style.visibility="visible"}if((d!=null)&&(d.constructor===Function)){d(new SvgFactoryImage(m,f,b,c,j,k))}}else{if(this.readyState==4&&this.status!=200){var n=['Could not load SVG from: "'+b+'"',[k.err]];throw new Error([n]);return}}};h.open("GET",b,true);if((a!=null)&&(a==false)){h.setRequestHeader("cache-control","no-cache, must-revalidate, post-check=0, pre-check=0");h.setRequestHeader("cache-control","max-age=0");h.setRequestHeader("expires","0");h.setRequestHeader("expires","Tue, 01 Jan 1980 1:00:00 GMT");h.setRequestHeader("pragma","no-cache")}h.send()};SvgFactory.prototype.loadRef=function(f){var c=f.id;var b="#ffffff";var g=f.getElementsByTagName("path");if(g.length==1){b=g[0].style.fill}else{if(g.length>1){b=[];for(var d=0;d<g.length;d++){b.push(g[d].style.fill)}}}var e=f.width.baseVal.value+this.unitTypesArray[f.width.baseVal.unitType];var a=f.height.baseVal.value+this.unitTypesArray[f.height.baseVal.unitType];return new SvgFactoryImage(f,b,null,e,a,this)};SvgFactory.prototype.get=function(c){if(c==null){var b=["SVG reference is null.",[this.err]];throw new Error([b]);return null}if(c.constructor===String){for(var a=0;a<this.loadedSvgs.length;a++){if(this.loadedSvgs[a].id==c){return this.loadedSvgs[a]}}}else{if(c instanceof SVGElement){if(this.loadedSvgs.length>0){for(var a=0;a<this.loadedSvgs.length;a++){if(this.loadedSvgs[a].element==c){return this.loadedSvgs[a]}else{if(a==this.loadedSvgs.length-1){return this.loadRef(c)}}}}else{return this.loadRef(c)}}}return null};SvgFactoryImage.prototype.setSize=function(b,a){if(b>=0){this.element.setAttribute("width",b+this.factory.unitType);this.width=b+this.factory.unitType}else{this.element.setAttribute("width",(b*(-1))+"%");this.width=(b*(-1))+"%"}if(a>=0){this.element.setAttribute("height",a+this.factory.unitType);this.height=a+this.factory.unitType}else{this.element.setAttribute("height",(a*(-1))+"%");this.height=(a*(-1))+"%"}};SvgFactoryImage.prototype.setWidth=function(a){if(a>=0){this.element.setAttribute("width",a+this.factory.unitType);this.width=a+this.factory.unitType}else{this.element.setAttribute("width",(a*(-1))+"%");this.width=(a*(-1))+"%"}};SvgFactoryImage.prototype.setHeight=function(a){if(a>=0){this.element.setAttribute("height",a+this.factory.unitType);this.height=a+this.factory.unitType}else{this.element.setAttribute("height",(a*(-1))+"%");this.height=(a*(-1))+"%"}};SvgFactoryImage.prototype.setColor=function(a){var c=this.element.getElementsByTagName("path");for(var b=0;b<c.length;b++){if((a!=null)&&(a.constructor===Array)){c[b].style.fill=a[b]}else{if(a!=null){c[b].style.fill=a}}}this.color=a};SvgFactoryImage.prototype.setId=function(a){this.element.id=a;this.id=a};SvgFactoryImage.prototype.remove=function(){this.element.parentNode.removeChild(this.element);for(var b=0;b<this.factory.loadedSvgs.length;b++){if(this.id==this.factory.loadedSvgs[b].id){var a=this.factory.loadedSvgs[b];a=null;this.factory.loadedSvgs.splice(b,1)}}};